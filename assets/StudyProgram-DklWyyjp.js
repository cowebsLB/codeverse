import{a as f,r as m,e as E,j as e,g as F,f as I,h as G,l as R,i as j,k as T,m as z,n as A}from"./index-C0qE-T9q.js";import{g as W}from"./iconMapper-D3Z390Fv.js";function O(){const u=f(o=>o.getAllLanguageProgress),y=f(o=>o.xp),N=f(o=>o.level),[x,L]=m.useState([]),[w,p]=m.useState(!0),h=E();m.useEffect(()=>{(async()=>{p(!0);try{const r=await u();L(r)}catch(r){console.error("Error loading languages:",r)}finally{p(!1)}})()},[u]);const b=m.useMemo(()=>{const o={Web:[],Mobile:[],Systems:[]};return x.forEach(r=>{o[r.track].push(r)}),o},[x]),k=o=>R.filter(r=>r.subject===o),C=o=>({JavaScript:"from-yellow-500 to-yellow-600",Python:"from-blue-500 to-blue-600",TypeScript:"from-indigo-500 to-indigo-600",React:"from-cyan-500 to-cyan-600",Java:"from-red-500 to-red-600","C#":"from-purple-500 to-purple-600","C++":"from-blue-500 to-blue-600",C:"from-gray-500 to-gray-600",Go:"from-cyan-500 to-cyan-600",Rust:"from-orange-500 to-orange-600",Ruby:"from-red-500 to-red-600",PHP:"from-indigo-500 to-indigo-600",Swift:"from-orange-500 to-orange-600",Kotlin:"from-purple-500 to-purple-600",HTML:"from-orange-500 to-orange-600","Node.js":"from-green-500 to-green-600"})[o]||"from-indigo-500 to-purple-600",S=(o,r)=>{const a=j(o.id);if(!a||a.order<=1)return null;const t=a.order-1;return r.find(d=>{const l=j(d.id);return l&&l.track===a.track&&l.order===t})||null},M={Web:{name:"Web Development",icon:e.jsx(A,{className:"text-2xl"}),color:"from-blue-600 to-cyan-600"},Mobile:{name:"Mobile Development",icon:e.jsx(z,{className:"text-2xl"}),color:"from-purple-600 to-pink-600"},Systems:{name:"Systems Programming",icon:e.jsx(T,{className:"text-2xl"}),color:"from-orange-600 to-red-600"}};return w?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-body",children:"Loading languages..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-900 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold font-heading text-white mb-2",children:"Language Galaxy"}),e.jsx("p",{className:"text-xl text-gray-400 font-body",children:"Master programming languages to unlock new worlds"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold font-heading bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:["Level ",N]}),e.jsxs("div",{className:"text-sm text-gray-400 font-body",children:[y," XP"]})]})]})}),x.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400 font-body text-lg",children:"No languages available yet."})}):e.jsx("div",{className:"space-y-12",children:Object.keys(b).map(o=>{const r=b[o];if(r.length===0)return null;const a=M[o];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b border-gray-700 pb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`text-4xl bg-gradient-to-r ${a.color} bg-clip-text text-transparent`,children:a.icon}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-3xl font-bold font-heading bg-gradient-to-r ${a.color} bg-clip-text text-transparent`,children:a.name}),e.jsxs("p",{className:"text-gray-400 font-body text-sm mt-1",children:[r.filter(t=>t.completed).length," / ",r.length," languages completed"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(t=>{const n=k(t.id),d=C(t.id),l=S(t,r),i=!t.unlocked,$=W(F(t.difficulty),"text-xl");return console.log("Language:",t.id,"unlocked:",t.unlocked,"lessons:",n.length),e.jsxs("div",{className:`relative bg-gray-800 border-2 rounded-xl shadow-lg overflow-hidden transition-all ${i?"border-gray-700 opacity-60 cursor-not-allowed":t.completed?"border-green-500 hover:border-green-400 hover:shadow-2xl cursor-pointer":"border-gray-700 hover:border-indigo-500 hover:shadow-xl cursor-pointer"}`,onMouseDown:s=>{if(i){s.preventDefault();return}},onClick:s=>{if(i){s.preventDefault(),s.stopPropagation();return}s.preventDefault(),s.stopPropagation();const v=n.filter(g=>(g.order??0)>0).sort((g,D)=>(g.order??0)-(D.order??0))[0]||n[0];v?h(`/lesson/${v.id}`):console.warn("No lessons found for language:",t.id)},children:[i&&e.jsx("div",{className:"absolute inset-0 bg-gray-900/80 backdrop-blur-sm z-10 flex items-center justify-center pointer-events-auto",onClick:s=>{s.preventDefault(),s.stopPropagation()},children:e.jsxs("div",{className:"text-center",children:[e.jsx(I,{className:"text-6xl mb-4 animate-spin mx-auto"}),e.jsx("p",{className:"text-white font-heading font-bold mb-2",children:"Locked"}),l&&e.jsxs("p",{className:"text-gray-400 font-body text-sm",children:["Complete ",l.name," to unlock"]})]})}),t.completed&&e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsx(G,{className:"text-3xl animate-bounce"})}),e.jsxs("div",{className:"p-6 relative z-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl font-bold font-heading text-white",children:t.name}),e.jsx("span",{className:"text-xl",title:t.difficulty,children:$})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-body",children:"Progress"}),e.jsxs("span",{className:"text-sm font-bold font-code text-indigo-400",children:[t.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all ${t.completed?"bg-gradient-to-r from-green-500 to-emerald-500":`bg-gradient-to-r ${d}`}`,style:{width:`${t.progress}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 font-body",children:"Lessons"}),e.jsxs("div",{className:"text-lg font-bold font-heading text-white",children:[t.completedLessons," / ",t.totalLessons]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 font-body",children:"XP"}),e.jsx("div",{className:"text-lg font-bold font-heading text-white",children:t.xp})]})]}),e.jsxs("div",{className:"space-y-2",onClick:s=>s.stopPropagation(),children:[n.filter(s=>(s.order??0)>0).sort((s,c)=>(s.order??0)-(c.order??0)).slice(0,3).map(s=>e.jsxs("div",{className:"text-sm text-gray-400 font-body truncate hover:text-indigo-400 transition-colors cursor-pointer",onClick:c=>{c.stopPropagation(),c.preventDefault(),i||h(`/lesson/${s.id}`)},children:["â€¢ ",s.title]},s.id)),n.filter(s=>(s.order??0)>0).length>3&&e.jsxs("div",{className:"text-sm text-gray-500 font-body",children:["+",n.filter(s=>(s.order??0)>0).length-3," more..."]})]})]}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 ${t.completed?"bg-gradient-to-r from-green-500 to-emerald-500":`bg-gradient-to-r ${d}`}`})]},t.id)})})]},o)})})]})})}export{O as default};
